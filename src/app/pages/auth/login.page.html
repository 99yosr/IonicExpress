<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Sign in</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <ion-list lines="inset">
      <ion-item>
        <ion-label position="stacked">Email</ion-label>
        <ion-input
          type="email"
          formControlName="email"
          autocomplete="email"
          required
        ></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="emailInvalid">
        Please enter a valid email address.
      </ion-text>

      <ion-item>
        <ion-label position="stacked">Password</ion-label>
        <ion-input
          type="password"
          formControlName="password"
          autocomplete="current-password"
          required
        ></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="passwordInvalid">
        Password must be at least 6 characters.
      </ion-text>
    </ion-list>

    <ion-text color="danger" *ngIf="errorMessage">{{ errorMessage }}</ion-text>

    <ion-button
      expand="block"
      type="submit"
      [disabled]="form.invalid || loading"
      class="ion-margin-top"
    >
      <ion-spinner slot="start" *ngIf="loading"></ion-spinner>
      Sign in
    </ion-button>
  </form>

  <ion-button routerLink="/auth/register" fill="clear" class="ion-margin-top">
    Need an account? Register
  </ion-button>
</ion-content>
